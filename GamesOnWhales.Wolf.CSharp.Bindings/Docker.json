{
  "swagger": "2.0",
  "schemes": [
    "http"
  ],
  "produces": [
    "application/json",
    "text/plain"
  ],
  "consumes": [
    "application/json",
    "text/plain"
  ],
  "host": "localhost",
  "tags": [
    {
      "name": "Container",
      "x-displayName": "Containers",
      "description": "Create and manage containers.\n"
    },
    {
      "name": "Image",
      "x-displayName": "Images"
    },
    {
      "name": "Network",
      "x-displayName": "Networks",
      "description": "Networks are user-defined networks that containers can be attached to.\nSee the [networking documentation](https://docs.docker.com/network/)\nfor more information.\n"
    },
    {
      "name": "Volume",
      "x-displayName": "Volumes",
      "description": "Create and manage persistent storage that can be attached to containers.\n"
    },
    {
      "name": "Exec",
      "x-displayName": "Exec",
      "description": "Run new commands inside running containers. Refer to the\n[command-line reference](https://docs.docker.com/engine/reference/commandline/exec/)\nfor more information.\n\nTo exec a command in a container, you first need to create an exec instance,\nthen start it. These two API endpoints are wrapped up in a single command-line\ncommand, `docker exec`.\n"
    },
    {
      "name": "Swarm",
      "x-displayName": "Swarm",
      "description": "Engines can be clustered together in a swarm. Refer to the\n[swarm mode documentation](https://docs.docker.com/engine/swarm/)\nfor more information.\n"
    },
    {
      "name": "Node",
      "x-displayName": "Nodes",
      "description": "Nodes are instances of the Engine participating in a swarm. Swarm mode\nmust be enabled for these endpoints to work.\n"
    },
    {
      "name": "Service",
      "x-displayName": "Services",
      "description": "Services are the definitions of tasks to run on a swarm. Swarm mode must\nbe enabled for these endpoints to work.\n"
    },
    {
      "name": "Task",
      "x-displayName": "Tasks",
      "description": "A task is a container running on a swarm. It is the atomic scheduling unit\nof swarm. Swarm mode must be enabled for these endpoints to work.\n"
    },
    {
      "name": "Secret",
      "x-displayName": "Secrets",
      "description": "Secrets are sensitive data that can be used by services. Swarm mode must\nbe enabled for these endpoints to work.\n"
    },
    {
      "name": "Config",
      "x-displayName": "Configs",
      "description": "Configs are application configurations that can be used by services. Swarm\nmode must be enabled for these endpoints to work.\n"
    },
    {
      "name": "Plugin",
      "x-displayName": "Plugins"
    },
    {
      "name": "System",
      "x-displayName": "System"
    }
  ],
  "definitions": {
    "ImageInspect": {
      "description": "Information about an image in the local image cache.\n",
      "type": "object",
      "properties": {
        "Id": {
          "description": "ID is the content-addressable ID of an image.\n\nThis identifier is a content-addressable digest calculated from the\nimage's configuration (which includes the digests of layers used by\nthe image).\n\nNote that this digest differs from the `RepoDigests` below, which\nholds digests of image manifests that reference the image.\n",
          "type": "string",
          "x-nullable": false,
          "example": "sha256:ec3f0931a6e6b6855d76b2d7b0be30e81860baccd891b2e243280bf1cd8ad710"
        },
        "Descriptor": {
          "description": "Descriptor is an OCI descriptor of the image target.\nIn case of a multi-platform image, this descriptor points to the OCI index\nor a manifest list.\n\nThis field is only present if the daemon provides a multi-platform image store.\n\nWARNING: This is experimental and may change at any time without any backward\ncompatibility.\n",
          "x-nullable": true,
          "$ref": "#/definitions/OCIDescriptor"
        },
        "Manifests": {
          "description": "Manifests is a list of image manifests available in this image. It\nprovides a more detailed view of the platform-specific image manifests or\nother image-attached data like build attestations.\n\nOnly available if the daemon provides a multi-platform image store\nand the `manifests` option is set in the inspect request.\n\nWARNING: This is experimental and may change at any time without any backward\ncompatibility.\n",
          "type": "array",
          "x-nullable": true,
          "items": {
            "$ref": "#/definitions/ImageManifestSummary"
          }
        },
        "RepoTags": {
          "description": "List of image names/tags in the local image cache that reference this\nimage.\n\nMultiple image tags can refer to the same image, and this list may be\nempty if no tags reference the image, in which case the image is\n\"untagged\", in which case it can still be referenced by its ID.\n",
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": [
            "example:1.0",
            "example:latest",
            "example:stable",
            "internal.registry.example.com:5000/example:1.0"
          ]
        },
        "RepoDigests": {
          "description": "List of content-addressable digests of locally available image manifests\nthat the image is referenced from. Multiple manifests can refer to the\nsame image.\n\nThese digests are usually only available if the image was either pulled\nfrom a registry, or if the image was pushed to a registry, which is when\nthe manifest is generated and its digest calculated.\n",
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": [
            "example@sha256:afcc7f1ac1b49db317a7196c902e61c6c3c4607d63599ee1a82d702d249a0ccb",
            "internal.registry.example.com:5000/example@sha256:b69959407d21e8a062e0416bf13405bb2b71ed7a84dde4158ebafacfa06f5578"
          ]
        },
        "Comment": {
          "description": "Optional message that was set when committing or importing the image.\n",
          "type": "string",
          "x-nullable": true,
          "example": ""
        },
        "Created": {
          "description": "Date and time at which the image was created, formatted in\n[RFC 3339](https://www.ietf.org/rfc/rfc3339.txt) format with nano-seconds.\n\nThis information is only available if present in the image,\nand omitted otherwise.\n",
          "type": "string",
          "format": "dateTime",
          "x-nullable": true,
          "example": "2022-02-04T21:20:12.497794809Z"
        },
        "Author": {
          "description": "Name of the author that was specified when committing the image, or as\nspecified through MAINTAINER (deprecated) in the Dockerfile.\n",
          "type": "string",
          "x-nullable": true,
          "example": ""
        },
        "Config": {
          "$ref": "#/definitions/ImageConfig"
        },
        "Architecture": {
          "description": "Hardware CPU architecture that the image runs on.\n",
          "type": "string",
          "x-nullable": false,
          "example": "arm"
        },
        "Variant": {
          "description": "CPU architecture variant (presently ARM-only).\n",
          "type": "string",
          "x-nullable": true,
          "example": "v7"
        },
        "Os": {
          "description": "Operating System the image is built to run on.\n",
          "type": "string",
          "x-nullable": false,
          "example": "linux"
        },
        "OsVersion": {
          "description": "Operating System version the image is built to run on (especially\nfor Windows).\n",
          "type": "string",
          "example": "",
          "x-nullable": true
        },
        "Size": {
          "description": "Total size of the image including all layers it is composed of.\n",
          "type": "integer",
          "format": "int64",
          "x-nullable": false,
          "example": 1239828
        },
        "GraphDriver": {
          "x-nullable": true,
          "$ref": "#/definitions/DriverData"
        },
        "RootFS": {
          "description": "Information about the image's RootFS, including the layer IDs.\n",
          "type": "object",
          "required": [
            "Type"
          ],
          "properties": {
            "Type": {
              "type": "string",
              "x-nullable": false,
              "example": "layers"
            },
            "Layers": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": [
                "sha256:1834950e52ce4d5a88a1bbd131c537f4d0e56d10ff0dd69e66be3b7dfa9df7e6",
                "sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef"
              ]
            }
          }
        },
        "Metadata": {
          "description": "Additional metadata of the image in the local cache. This information\nis local to the daemon, and not part of the image itself.\n",
          "type": "object",
          "properties": {
            "LastTagTime": {
              "description": "Date and time at which the image was last tagged in\n[RFC 3339](https://www.ietf.org/rfc/rfc3339.txt) format with nano-seconds.\n\nThis information is only available if the image was tagged locally,\nand omitted otherwise.\n",
              "type": "string",
              "format": "dateTime",
              "example": "2022-02-28T14:40:02.623929178Z",
              "x-nullable": true
            }
          }
        }
      }
    },
    "ErrorResponse": {
      "description": "Represents an error.",
      "type": "object",
      "required": [
        "message"
      ],
      "properties": {
        "message": {
          "description": "The error message.",
          "type": "string",
          "x-nullable": false
        }
      },
      "example": {
        "message": "Something went wrong."
      }
    },
    "ImageManifestSummary": {
      "x-go-name": "ManifestSummary",
      "description": "ImageManifestSummary represents a summary of an image manifest.\n",
      "type": "object",
      "required": [
        "ID",
        "Descriptor",
        "Available",
        "Size",
        "Kind"
      ],
      "properties": {
        "ID": {
          "description": "ID is the content-addressable ID of an image and is the same as the\ndigest of the image manifest.\n",
          "type": "string",
          "example": "sha256:95869fbcf224d947ace8d61d0e931d49e31bb7fc67fffbbe9c3198c33aa8e93f"
        },
        "Descriptor": {
          "$ref": "#/definitions/OCIDescriptor"
        },
        "Available": {
          "description": "Indicates whether all the child content (image config, layers) is fully available locally.",
          "type": "boolean",
          "example": true
        },
        "Size": {
          "type": "object",
          "x-nullable": false,
          "required": [
            "Content",
            "Total"
          ],
          "properties": {
            "Total": {
              "type": "integer",
              "format": "int64",
              "example": 8213251,
              "description": "Total is the total size (in bytes) of all the locally present\ndata (both distributable and non-distributable) that's related to\nthis manifest and its children.\nThis equal to the sum of [Content] size AND all the sizes in the\n[Size] struct present in the Kind-specific data struct.\nFor example, for an image kind (Kind == \"image\")\nthis would include the size of the image content and unpacked\nimage snapshots ([Size.Content] + [ImageData.Size.Unpacked]).\n"
            },
            "Content": {
              "description": "Content is the size (in bytes) of all the locally present\ncontent in the content store (e.g. image config, layers)\nreferenced by this manifest and its children.\nThis only includes blobs in the content store.\n",
              "type": "integer",
              "format": "int64",
              "example": 3987495
            }
          }
        },
        "Kind": {
          "type": "string",
          "example": "image",
          "enum": [
            "image",
            "attestation",
            "unknown"
          ],
          "description": "The kind of the manifest.\n\nkind         | description\n-------------|-----------------------------------------------------------\nimage        | Image manifest that can be used to start a container.\nattestation  | Attestation manifest produced by the Buildkit builder for a specific image manifest.\n"
        },
        "ImageData": {
          "description": "The image data for the image manifest.\nThis field is only populated when Kind is \"image\".\n",
          "type": "object",
          "x-nullable": true,
          "x-omitempty": true,
          "required": [
            "Platform",
            "Containers",
            "Size",
            "UnpackedSize"
          ],
          "properties": {
            "Platform": {
              "$ref": "#/definitions/OCIPlatform",
              "description": "OCI platform of the image. This will be the platform specified in the\nmanifest descriptor from the index/manifest list.\nIf it's not available, it will be obtained from the image config.\n"
            },
            "Containers": {
              "description": "The IDs of the containers that are using this image.\n",
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": [
                "ede54ee1fda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c7430",
                "abadbce344c096744d8d6071a90d474d28af8f1034b5ea9fb03c3f4bfc6d005e"
              ]
            },
            "Size": {
              "type": "object",
              "x-nullable": false,
              "required": [
                "Unpacked"
              ],
              "properties": {
                "Unpacked": {
                  "type": "integer",
                  "format": "int64",
                  "example": 3987495,
                  "description": "Unpacked is the size (in bytes) of the locally unpacked\n(uncompressed) image content that's directly usable by the containers\nrunning this image.\nIt's independent of the distributable content - e.g.\nthe image might still have an unpacked data that's still used by\nsome container even when the distributable/compressed content is\nalready gone.\n"
                }
              }
            }
          }
        },
        "AttestationData": {
          "description": "The image data for the attestation manifest.\nThis field is only populated when Kind is \"attestation\".\n",
          "type": "object",
          "x-nullable": true,
          "x-omitempty": true,
          "required": [
            "For"
          ],
          "properties": {
            "For": {
              "description": "The digest of the image manifest that this attestation is for.\n",
              "type": "string",
              "example": "sha256:95869fbcf224d947ace8d61d0e931d49e31bb7fc67fffbbe9c3198c33aa8e93f"
            }
          }
        }
      }
    },
    "ImageConfig": {
      "description": "Configuration of the image. These fields are used as defaults\nwhen starting a container from the image.\n",
      "type": "object",
      "properties": {
        "User": {
          "description": "The user that commands are run as inside the container.",
          "type": "string",
          "example": "web:web"
        },
        "ExposedPorts": {
          "description": "An object mapping ports to an empty object in the form:\n\n`{\"<port>/<tcp|udp|sctp>\": {}}`\n",
          "type": "object",
          "x-nullable": true,
          "additionalProperties": {
            "type": "object",
            "enum": [
              {}
            ],
            "default": {}
          },
          "example": {
            "80/tcp": {},
            "443/tcp": {}
          }
        },
        "Env": {
          "description": "A list of environment variables to set inside the container in the\nform `[\"VAR=value\", ...]`. A variable without `=` is removed from the\nenvironment, rather than to have an empty value.\n",
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": [
            "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
          ]
        },
        "Cmd": {
          "description": "Command to run specified as a string or an array of strings.\n",
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": [
            "/bin/sh"
          ]
        },
        "Healthcheck": {
          "$ref": "#/definitions/HealthConfig"
        },
        "ArgsEscaped": {
          "description": "Command is already escaped (Windows only)",
          "type": "boolean",
          "default": false,
          "example": false,
          "x-nullable": true
        },
        "Volumes": {
          "description": "An object mapping mount point paths inside the container to empty\nobjects.\n",
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "enum": [
              {}
            ],
            "default": {}
          },
          "example": {
            "/app/data": {},
            "/app/config": {}
          }
        },
        "WorkingDir": {
          "description": "The working directory for commands to run in.",
          "type": "string",
          "example": "/public/"
        },
        "Entrypoint": {
          "description": "The entry point for the container as a string or an array of strings.\n\nIf the array consists of exactly one empty string (`[\"\"]`) then the\nentry point is reset to system default (i.e., the entry point used by\ndocker when there is no `ENTRYPOINT` instruction in the `Dockerfile`).\n",
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": []
        },
        "OnBuild": {
          "description": "`ONBUILD` metadata that were defined in the image's `Dockerfile`.\n",
          "type": "array",
          "x-nullable": true,
          "items": {
            "type": "string"
          },
          "example": []
        },
        "Labels": {
          "description": "User-defined key/value metadata.",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "example": {
            "com.example.some-label": "some-value",
            "com.example.some-other-label": "some-other-value"
          }
        },
        "StopSignal": {
          "description": "Signal to stop a container as a string or unsigned integer.\n",
          "type": "string",
          "example": "SIGTERM",
          "x-nullable": true
        },
        "Shell": {
          "description": "Shell for when `RUN`, `CMD`, and `ENTRYPOINT` uses a shell.\n",
          "type": "array",
          "x-nullable": true,
          "items": {
            "type": "string"
          },
          "example": [
            "/bin/sh",
            "-c"
          ]
        }
      }
    },
    "HealthConfig": {
      "description": "A test to perform to check that the container is healthy.",
      "type": "object",
      "properties": {
        "Test": {
          "description": "The test to perform. Possible values are:\n\n- `[]` inherit healthcheck from image or parent image\n- `[\"NONE\"]` disable healthcheck\n- `[\"CMD\", args...]` exec arguments directly\n- `[\"CMD-SHELL\", command]` run command with system's default shell\n",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "Interval": {
          "description": "The time to wait between checks in nanoseconds. It should be 0 or at\nleast 1000000 (1 ms). 0 means inherit.\n",
          "type": "integer",
          "format": "int64"
        },
        "Timeout": {
          "description": "The time to wait before considering the check to have hung. It should\nbe 0 or at least 1000000 (1 ms). 0 means inherit.\n",
          "type": "integer",
          "format": "int64"
        },
        "Retries": {
          "description": "The number of consecutive failures needed to consider a container as\nunhealthy. 0 means inherit.\n",
          "type": "integer"
        },
        "StartPeriod": {
          "description": "Start period for the container to initialize before starting\nhealth-retries countdown in nanoseconds. It should be 0 or at least\n1000000 (1 ms). 0 means inherit.\n",
          "type": "integer",
          "format": "int64"
        },
        "StartInterval": {
          "description": "The time to wait between checks in nanoseconds during the start period.\nIt should be 0 or at least 1000000 (1 ms). 0 means inherit.\n",
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "OCIDescriptor": {
      "type": "object",
      "x-go-name": "Descriptor",
      "description": "A descriptor struct containing digest, media type, and size, as defined in\nthe [OCI Content Descriptors Specification](https://github.com/opencontainers/image-spec/blob/v1.0.1/descriptor.md).\n",
      "properties": {
        "mediaType": {
          "description": "The media type of the object this schema refers to.\n",
          "type": "string",
          "example": "application/vnd.oci.image.manifest.v1+json"
        },
        "digest": {
          "description": "The digest of the targeted content.\n",
          "type": "string",
          "example": "sha256:c0537ff6a5218ef531ece93d4984efc99bbf3f7497c0a7726c88e2bb7584dc96"
        },
        "size": {
          "description": "The size in bytes of the blob.\n",
          "type": "integer",
          "format": "int64",
          "example": 424
        },
        "urls": {
          "description": "List of URLs from which this object MAY be downloaded.",
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "x-nullable": true
        },
        "annotations": {
          "description": "Arbitrary metadata relating to the targeted content.",
          "type": "object",
          "x-nullable": true,
          "additionalProperties": {
            "type": "string"
          },
          "example": {
            "com.docker.official-images.bashbrew.arch": "amd64",
            "org.opencontainers.image.base.digest": "sha256:0d0ef5c914d3ea700147da1bd050c59edb8bb12ca312f3800b29d7c8087eabd8",
            "org.opencontainers.image.base.name": "scratch",
            "org.opencontainers.image.created": "2025-01-27T00:00:00Z",
            "org.opencontainers.image.revision": "9fabb4bad5138435b01857e2fe9363e2dc5f6a79",
            "org.opencontainers.image.source": "https://git.launchpad.net/cloud-images/+oci/ubuntu-base",
            "org.opencontainers.image.url": "https://hub.docker.com/_/ubuntu",
            "org.opencontainers.image.version": "24.04"
          }
        },
        "data": {
          "type": "string",
          "x-nullable": true,
          "description": "Data is an embedding of the targeted content. This is encoded as a base64\nstring when marshalled to JSON (automatically, by encoding/json). If\npresent, Data can be used directly to avoid fetching the targeted content.",
          "example": null
        },
        "platform": {
          "$ref": "#/definitions/OCIPlatform"
        },
        "artifactType": {
          "description": "ArtifactType is the IANA media type of this artifact.",
          "type": "string",
          "x-nullable": true,
          "example": null
        }
      }
    },
    "OCIPlatform": {
      "type": "object",
      "x-go-name": "Platform",
      "x-nullable": true,
      "description": "Describes the platform which the image in the manifest runs on, as defined\nin the [OCI Image Index Specification](https://github.com/opencontainers/image-spec/blob/v1.0.1/image-index.md).\n",
      "properties": {
        "architecture": {
          "description": "The CPU architecture, for example `amd64` or `ppc64`.\n",
          "type": "string",
          "example": "arm"
        },
        "os": {
          "description": "The operating system, for example `linux` or `windows`.\n",
          "type": "string",
          "example": "windows"
        },
        "os.version": {
          "description": "Optional field specifying the operating system version, for example on\nWindows `10.0.19041.1165`.\n",
          "type": "string",
          "example": "10.0.19041.1165"
        },
        "os.features": {
          "description": "Optional field specifying an array of strings, each listing a required\nOS feature (for example on Windows `win32k`).\n",
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": [
            "win32k"
          ]
        },
        "variant": {
          "description": "Optional field specifying a variant of the CPU, for example `v7` to\nspecify ARMv7 when architecture is `arm`.\n",
          "type": "string",
          "example": "v7"
        }
      }
    },
    "DriverData": {
      "description": "Information about the storage driver used to store the container's and\nimage's filesystem.\n",
      "type": "object",
      "required": [
        "Name",
        "Data"
      ],
      "properties": {
        "Name": {
          "description": "Name of the storage driver.",
          "type": "string",
          "x-nullable": false,
          "example": "overlay2"
        },
        "Data": {
          "description": "Low-level storage metadata, provided as key/value pairs.\n\nThis information is driver-specific, and depends on the storage-driver\nin use, and should be used for informational purposes only.\n",
          "type": "object",
          "x-nullable": false,
          "additionalProperties": {
            "type": "string"
          },
          "example": {
            "MergedDir": "/var/lib/docker/overlay2/ef749362d13333e65fc95c572eb525abbe0052e16e086cb64bc3b98ae9aa6d74/merged",
            "UpperDir": "/var/lib/docker/overlay2/ef749362d13333e65fc95c572eb525abbe0052e16e086cb64bc3b98ae9aa6d74/diff",
            "WorkDir": "/var/lib/docker/overlay2/ef749362d13333e65fc95c572eb525abbe0052e16e086cb64bc3b98ae9aa6d74/work"
          }
        }
      }
    }
  },
  "paths": {
    "/api/v1/docker/images/inspect": {
      "get": {
        "summary": "Inspect an image",
        "description": "Return low-level information about an image.",
        "operationId": "ImageInspect",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "No error",
            "schema": {
              "$ref": "#/definitions/ImageInspect"
            }
          },
          "404": {
            "description": "No such image",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            },
            "examples": {
              "application/json": {
                "message": "No such image: someimage (tag: latest)"
              }
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "name": "image_name",
            "type": "string"
          }
        ],
        "tags": [
          "Image"
        ]
      }
    }
  }
}